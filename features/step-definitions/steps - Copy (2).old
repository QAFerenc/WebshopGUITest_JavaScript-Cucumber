const { Given, When, Then } = require('@cucumber/cucumber')
const MainPage = require('../pages/main.page');
const ProductPage = require('../pages/product.page');
const CartPage = require('../pages/cart.page');


Given('A webpage as', () => {
  MainPage.open();
  browser.fullscreenWindow()
})

When('Customer clicks Button as {string}',  async(button) => {
    MainPage.pressButton(button)

})


When('Customer selects Category as {string}',  async(Category) => {
      MainPage.selectCategory(Category)
})

When('Customer picks laptop as {string}',  async(laptop) => {
     MainPage.selectProduct(laptop)
})

When('Customer clicks Button Add to Cart',  async() => {
     ProductPage.addToCart("Add to cart")

})

When('Customer clicks Button Accept Alert',  () => {
    browser.acceptAlert();
})

When('Customer clicks Home',  async() => {
    const elem = await $("//*[@id='navbarExample']/ul/li[1]/a");
    await elem.click();
})

When('Customer clicks Cart',  async() => {
//    const elem= await $("//*[@id='cartur']")
//    await elem.click();
    ProductPage.pressButton("Add to cart")
})



When('Customer clicks button Place Order',  async() => {
    const elem = await $("//button[contains(text(),'Place Order')]")
    await elem.waitForDisplayed();
    await elem.click();
})

When('Customer fills in field Name as {string}',  async(name) => {
    const elem = await $("//*[@id='name']");
    await elem.click();
   elem.setValue(name)
})

When('Customer fills in field Country as {string}',  async(country) => {
    const elem = await $("//*[@id='country']");
    await elem.click();
   elem.setValue(country)

})

When('Customer fills in field City as {string}',  async(city) => {
    const elem = await $("//*[@id='city']");
    await elem.click();
    elem.setValue(city)

})


When('Customer fills in field Card as {string}',  async(card) => {
    const elem = await $("//*[@id='card']");
    await elem.click();
    elem.setValue(card)

})


When('Customer fills in field Month as {string}',  async(month) => {
    const elem = await $("//*[@id='month']");
    await elem.click();
    elem.setValue(month)

})

When('Customer fills in field Year as {string}',  async(year) => {
    const elem = await $("//*[@id='year']");
    await elem.click();
    elem.setValue(year)

})



Then('Customer clicks Purchase Button',  async() => {
    const elem = await $("//*[@id='orderModal']/div/div/div[3]/button[2]");
    await elem.click();
})









